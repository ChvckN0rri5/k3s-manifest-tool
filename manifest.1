.TH MANIFEST 1 "2025-06-24" "k3s-manifest-tool 1.2-2" "User Commands"
.SH NAME
manifest \- CLI tool for managing K3s manifest files
.SH SYNOPSIS
.B manifest
[\fIedit\fR [\fIfilename\fR] | \fIfilename\fR | \fB--refresh-cache\fR]
.SH DESCRIPTION
The
.B manifest
command is a CLI tool for managing Kubernetes manifest files in a K3s environment. It enables users to move files to the K3s manifest directory (default: \fB/var/lib/rancher/k3s/server/ manifests/\fR) while retaining their original names, edit files using \fBnano\fR via a Text User Interface (TUI) powered by \fBdialog\fR, and refresh an autocompletion cache for Bash. The tool requires \fBsudo\fR privileges for operations in the manifest directory to ensure secure file handling.
.PP
The configuration is stored in a restricted \fB/etc/ manifest.env\fR file, which specifies the \fBK3S_MANIFEST_PATH\fR. Autocompletion is supported via \fBbash-completion\fR, using a cache file at \fB/tmp/ manifest_files_cache\fR.
.SH OPTIONS
.TP
\fBedit\fR [\fIfilename\fR]
Display a TUI menu to select a file from the manifest directory to edit with \fBnano\fR. If \fIfilename\fR is provided, directly edit that file in the manifest directory.
.TP
\fIfilename\fR
Move the specified file to the K3s manifest directory, retaining its original name (e.g., \fBmanifest traefik-config.yaml\fR moves the file to \fB/var/lib/rancher/k3s/server/ manifests/traefik-config.yaml\fR).
.TP
\fB--refresh-cache\fR
Refresh the autocompletion cache by listing files in the manifest directory and storing them in \fB/tmp/ manifest_files_cache\fR.
.SH FILES
.TP
\fB/etc/ manifest.env\fR
Configuration file specifying \fBK3S_MANIFEST_PATH\fR, with restricted permissions (owned by root, mode 600).
.TP
\fB/tmp/ manifest_files_cache\fR
Cache file for Bash autocompletion, listing files in the manifest directory.
.TP
\fB/etc/bash_completion.d/ manifest\fR
Bash completion script for the \fBmanifest\fR command.
.TP
\fB/usr/local/bin/ manifest\fR
Executable script for the \fBmanifest\fR CLI.
.TP
\fB/usr/local/man/man1/ manifest.1\fR
Man page for the \fBmanifest\fR command.
.SH ENVIRONMENT
.TP
\fBK3S_MANIFEST_PATH\fR
Path to the K3s manifest directory, set in \fB/etc/ manifest.env\fR (default: \fB/var/lib/rancher/k3s/server/ manifests/\fR).
.SH DEPENDENCIES
.TP
\fBbash\fR
Required for script execution and autocompletion.
.TP
\fBdialog\fR
Required for the TUI interface.
.TP
\fBbash-completion\fR
Required for autocompletion support.
.TP
\fBsudo\fR
Recommended for secure operations in the manifest directory.
.SH SEE ALSO
.BR nano (1),
.BR dialog (1),
.BR bash (1),
.BR sudo (8)
.SH AUTHOR
ChvckN0rri5 <globalfrens@icloud.com>
.SH COPYRIGHT
Copyright \(co 2025 ChvckN0rri5. Licensed under the MIT License.